<!-- =======================
     DASHBOARD GURU â€“ FINAL
     Dengan Sidebar + Grafik
========================== -->

<div style="display:flex; gap:20px; margin-top:20px;">

  <!-- ====================== -->
  <!--        SIDEBAR         -->
  <!-- ====================== -->
  <aside style="
      width:230px;
      background:#ffffff;
      border-radius:12px;
      padding:18px;
      box-shadow:0 6px 18px rgba(10,79,163,0.08);
      height:max-content;
  ">
    <h3 style="margin-top:0; color:#0A4FA3;">Menu Wali Kelas</h3>
    <ul style="list-style:none; padding-left:0; line-height:1.8;">
      <li><a href="pengumuman.html">Pengumuman</a></li>
      <li><a href="curhatsiswa.html">Curhat Siswa</a></li>
      <li><a href="notulen.html">Notulen</a></li>
      <li><a href="rekap.html">Rekap Kehadiran</a></li>
      <li><a href="rapor.html">Rekap Nilai / Rapor</a></li>
      <li><a href="biodata.html">Data Biodata Siswa</a></li>
    </ul>

    <h3 style="margin-top:22px; color:#0A4FA3;">Menu Guru Wali</h3>
    <ul style="list-style:none; padding-left:0; line-height:1.8;">
      <li><a href="#">Monitoring Belajar</a></li>
      <li><a href="#">Monitoring Akhlak</a></li>
      <li><a href="#">Catatan Khusus</a></li>
      <li><a href="#">Laporan Bulanan</a></li>
    </ul>
  </aside>

  <!-- ====================== -->
  <!--      KONTEN UTAMA      -->
  <!-- ====================== -->
  <main style="flex:1;">
    
    <!-- Grafik Jenis Kelamin -->
    <div style="background:#fff; border-radius:12px; padding:16px; 
                box-shadow:0 6px 18px rgba(10,79,163,0.06); margin-bottom:20px;">
      <h3 style="margin-top:0;">Grafik Jumlah Siswa Berdasarkan Jenis Kelamin</h3>
      <canvas id="chartJK" height="120"></canvas>
    </div>

    <!-- Grafik Hobi -->
    <div style="background:#fff; border-radius:12px; padding:16px; 
                box-shadow:0 6px 18px rgba(10,79,163,0.06); margin-bottom:20px;">
      <h3 style="margin-top:0;">Grafik 10 Hobi Terbanyak</h3>
      <canvas id="chartHobi" height="120"></canvas>
    </div>

    <!-- Grafik Cita-cita -->
    <div style="background:#fff; border-radius:12px; padding:16px; 
                box-shadow:0 6px 18px rgba(10,79,163,0.06);">
      <h3 style="margin-top:0;">Grafik 10 Cita-cita Terbanyak</h3>
      <canvas id="chartCita" height="120"></canvas>
    </div>

  </main>
</div>

<!-- ===================== -->
<!--       Chart.js        -->
<!-- ===================== -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
// ====== Dummy Data (nanti otomatis saya buatkan JSON-nya) ======
// Kamu nanti bisa ganti dengan fetch('assets/data.json')
const jkData = { laki: 0, perempuan: 0 };
const hobiData = {};
const citaData = {};

// ==== PopulateData dari Excel (via Python sudah dihitung) ====
jkData.laki =  {{gender_counts["Laki-laki"] if "Laki-laki" in gender_counts else 0}};
jkData.perempuan = {{gender_counts["Perempuan"] if "Perempuan" in gender_counts else 0}};

const hobi = {{hobi_counts.to_dict()}};
const cita = {{citacita_counts.to_dict()}};

// ========== CHART: Jenis Kelamin ==========
new Chart(document.getElementById("chartJK"), {
  type: "bar",
  data: {
    labels: ["Laki-laki", "Perempuan"],
    datasets: [{
      data: [jkData.laki, jkData.perempuan]
    }]
  }
});

// ========== CHART: Hobi ==========
new Chart(document.getElementById("chartHobi"), {
  type: "bar",
  data: {
    labels: Object.keys(hobi),
    datasets: [{
      data: Object.values(hobi)
    }]
  }
});

// ========== CHART: Cita-cita ==========
new Chart(document.getElementById("chartCita"), {
  type: "bar",
  data: {
    labels: Object.keys(cita),
    datasets: [{
      data: Object.values(cita)
    }]
  }
});
</script>
