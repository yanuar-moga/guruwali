<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dashboard Wali Kelas</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f4f6f9;
}
.layout {
  display: grid;
  grid-template-columns: 240px 1fr;
  min-height: 100vh;
}
.sidebar {
  background: #0A4FA3;
  color: #fff;
  padding: 20px;
}
.sidebar h3 {
  margin-top: 0;
}
.sidebar a {
  color: #fff;
  text-decoration: none;
  display: block;
  padding: 8px 0;
}
.content {
  padding: 22px;
}
.card {
  background: #fff;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 6px 18px rgba(10,79,163,0.06);
  margin-bottom: 20px;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}
table th, table td {
  padding: 8px;
  border: 1px solid #ccc;
  font-size: 14px;
}
table th {
  background: #0A4FA3;
  color: white;
}
input {
  padding: 8px;
  width: 100%;
  margin-bottom: 10px;
}
</style>
</head>

<body>
<div class="layout">

  <!-- SIDEBAR -->
  <div class="sidebar">
    <h3>Menu Wali Kelas</h3>
    <a href="#">Pengumuman</a>
    <a href="#">Curhat Siswa</a>
    <a href="#">Notulen</a>
    <a href="#">Data Absensi</a>
    <a href="#">Laporan Perkembangan</a>

    <h3 style="margin-top:28px;">Menu Guru Wali</h3>
    <a href="#">Profil Siswa</a>
    <a href="#">Rekap Nilai</a>
    <a href="#">Pelanggaran / Poin</a>
    <a href="#">Jadwal Konsultasi</a>

    <button style="margin-top:30px;background:#ff5d5d;color:#fff;border:none;padding:10px 14px;border-radius:8px;width:100%;">
      Logout
    </button>
  </div>

  <!-- MAIN CONTENT -->
  <div class="content">

    <!-- HEADER -->
    <div style="display:flex; align-items:center; gap:12px; margin-bottom:20px;">
      <img src="assets/logo.png" style="width:48px;height:48px;object-fit:contain;" />
      <div>
        <h2 style="margin:0;color:#0A4FA3">Dashboard Wali Kelas</h2>
        <div style="color:#6c7a89;">Data Siswa (Sheet: DATA)</div>
      </div>
    </div>

    <!-- CARD DATA -->
    <div class="card">

      <input type="text" id="search" placeholder="Cari data..." onkeyup="filterTable()">

      <table id="tabelData">
        <thead id="thead"></thead>
        <tbody id="tbody"></tbody>
      </table>

    </div>

  </div>
</div>

<!-- ================= GOOGLE SHEETS SCRIPT (TETAP) ================= -->
<script>
const sheetID = "1cSCzgeo-tD7QwDV-RUXTgb393LwyEwb9";
const sheetName = "DATA";

const url = `https://docs.google.com/spreadsheets/d/${sheetID}/gviz/tq?tqx=out:json&sheet=${sheetName}`;

fetch(url)
  .then(res => res.text())
  .then(text => {
    const json = JSON.parse(text.substr(47).slice(0, -2));
    const cols = json.table.cols;
    const rows = json.table.rows;

    // Header
    let th = "<tr>";
    cols.forEach(c => th += `<th>${c.label}</th>`);
    th += "</tr>";
    document.getElementById("thead").innerHTML = th;

    // Body
    let td = "";
    rows.forEach(r => {
      td += "<tr>";
      r.c.forEach(c => {
        td += `<td>${c ? c.v : ""}</td>`;
      });
      td += "</tr>";
    });
    document.getElementById("tbody").innerHTML = td;
  });

function filterTable() {
  const input = document.getElementById("search").value.toLowerCase();
  const rows = document.querySelectorAll("#tbody tr");

  rows.forEach(row => {
    row.style.display = row.innerText.toLowerCase().includes(input) ? "" : "none";
  });
}
</script>

</body>
</html>
